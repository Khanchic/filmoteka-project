{"mappings":"oeAAAA,EAAA,S,iICAA,IAAAC,EAAAD,EAAA,S,uCAKA,IAAIE,EAAa,GAEjBD,EAAAE,QAAKC,cAAcC,iBAAiB,SAIpC,WACE,MAAMC,EAAeC,EAAAC,YAAYC,aAAa,gBAE9C,GAAuC,sBAAnCR,EAAAE,QAAKC,cAAcM,YAAqC,CAC1D,MAAMC,EAAkBC,KAAKC,OAAM,EAAAC,EAAAC,MAAK,wBAAwBC,MAC9DC,GAAQA,EAAKC,KAAOC,OAAOb,MAGzB,EAAAQ,EAAAC,MAAK,uBACPb,EAAaU,KAAKC,OAAM,EAAAC,EAAAC,MAAK,uBAG/Bb,EAAWkB,KAAKT,IAChB,EAAAG,EAAAO,MAAK,oBAAqBT,KAAKU,UAAUpB,IAEzCD,EAAAE,QAAKC,cAAcM,YAAc,mB,KAC5B,CACL,MAAMa,EAAeX,KAAKC,OAAM,EAAAC,EAAAC,MAAK,sBAAsBS,WACzDP,GAAQA,EAAKC,KAAOC,OAAOb,KAEvBmB,EAAuBb,KAAKC,OAAM,EAAAC,EAAAC,MAAK,sBAC7CU,EAAqBC,OAAOH,EAAc,IAC1C,EAAAT,EAAAO,MAAK,oBAAqBT,KAAKU,UAAUG,IAEzCxB,EAAAE,QAAKC,cAAcM,YAAc,gBACjC,EAAAiB,EAAAC,kB,KCpCJ3B,EAAAD,EAAA,S,aAGAC,EAAAE,QAAK0B,WAAWxB,iBAAiB,SAEjC,WACE,GAAIJ,EAAAE,QAAK0B,WAAWC,UAAUC,SAAS,eAErC,YADA,EAAAJ,EAAAC,mBAGF3B,EAAAE,QAAK0B,WAAWC,UAAUE,IAAI,eAC9B/B,EAAAE,QAAK8B,UAAUH,UAAUI,OAAO,gBAChC,EAAAP,EAAAC,kB,IAGF3B,EAAAE,QAAKgC,SAAS9B,iBAAiB,SAE/B,WACE,GAAIJ,EAAAE,QAAKgC,SAASL,UAAUC,SAAS,eAEnC,YADA,EAAAJ,EAAAC,mBAGF3B,EAAAE,QAAK0B,WAAWC,UAAUI,OAAO,eACjCjC,EAAAE,QAAK8B,UAAUH,UAAUE,IAAI,gBAC7B,EAAAL,EAAAC,kB,gBFFF,EAAAQ,EAAAC,gBACA,EAAAV,EAAAC","sources":["src/js/library.js","src/js/queue-storage.js","src/js/switchLibrary.js"],"sourcesContent":["import './scroll-to-top';\n\nimport './theme-switch';\n\nimport './pagination';\n\nimport './firebase/firebase-config';\nimport './firebase/firebase-user';\nimport './firebase/firebase-modal-reg';\nimport './firebase/firebase-modal-auth';\nimport './firebase/firebase-main';\n\nimport { getTrending } from './markupTrending';\nimport { createFilmCards } from './markupWatched';\n\nimport './current-films-storage';\nimport './watched-storage';\nimport './queue-storage';\nimport './switchLibrary';\n\nimport './footer-modal';\n\ngetTrending();\ncreateFilmCards();\n","import refs from './refs/links.js';\nimport { currentFilm } from './current-films-storage';\nimport { save, load, remove } from './storage-methods';\nimport { createFilmCards } from './markupWatched';\n\nlet queueFilms = [];\n\nrefs.addToQueueBtn.addEventListener('click', toQueueFilms);\n\n// console.log(refs.addToQueueBtn);\n\nfunction toQueueFilms() {\n  const chooseFilmId = currentFilm.getAttribute('data-film-id');\n\n  if (refs.addToQueueBtn.textContent !== 'remove from queue') {\n    const currentFilmCard = JSON.parse(load('currentFilmsStorage')).find(\n      film => film.id === Number(chooseFilmId)\n    );\n\n    if (load('queueFilmsStorage')) {\n      queueFilms = JSON.parse(load('queueFilmsStorage'));\n    }\n\n    queueFilms.push(currentFilmCard);\n    save('queueFilmsStorage', JSON.stringify(queueFilms));\n\n    refs.addToQueueBtn.textContent = 'remove from queue';\n  } else {\n    const filmToRemuve = JSON.parse(load('queueFilmsStorage')).findIndex(\n      film => film.id === Number(chooseFilmId)\n    );\n    const newQueueFilmsStorage = JSON.parse(load('queueFilmsStorage'));\n    newQueueFilmsStorage.splice(filmToRemuve, 1);\n    save('queueFilmsStorage', JSON.stringify(newQueueFilmsStorage));\n\n    refs.addToQueueBtn.textContent = 'add to queue';\n    createFilmCards();\n  }\n}\n","import refs from './refs/links.js';\nimport { createFilmCards } from './markupWatched';\n\nrefs.watchedBtn.addEventListener('click', toWatchedBtnClick);\n\nfunction toWatchedBtnClick() {\n  if (refs.watchedBtn.classList.contains('current-btn')) {\n    createFilmCards();\n    return;\n  }\n  refs.watchedBtn.classList.add('current-btn');\n  refs.queuedBtn.classList.remove('current-btn');\n  createFilmCards();\n}\n\nrefs.queueBtn.addEventListener('click', toQueueBtnClick);\n\nfunction toQueueBtnClick() {\n  if (refs.queueBtn.classList.contains('current-btn')) {\n    createFilmCards();\n    return;\n  }\n  refs.watchedBtn.classList.remove('current-btn');\n  refs.queuedBtn.classList.add('current-btn');\n  createFilmCards();\n}\n"],"names":["parcelRequire","$7bE4W","$87cedc297a13528b$var$queueFilms","default","addToQueueBtn","addEventListener","chooseFilmId","$evGkY","currentFilm","getAttribute","textContent","currentFilmCard","JSON","parse","$4PVUM","load","find","film","id","Number","push","save","stringify","filmToRemuve","findIndex","newQueueFilmsStorage","splice","$7p4M0","createFilmCards","watchedBtn","classList","contains","add","queuedBtn","remove","queueBtn","$hN98q","getTrending"],"version":3,"file":"library.e73c9b93.js.map"}